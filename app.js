//STEP 1(APP Config)
const port=4000;
var express=require("express"),
methodOverride=require("method-override"),
bodyParser=require("body-parser"),
mongoose=require("mongoose"),
app=express();

mongoose.connect("mongodb://localhost:27017/silcharrooms",{useNewUrlParser:true,useUnifiedTopology: true});
app.set("view engine","ejs");
app.use(express.static("public"));
app.use(bodyParser.urlencoded({extended: true}));
app.use(methodOverride("_method"));

mongoose.set('useFindAndModify', false);

//STEP 2(MONGOOSE/MODEL Config)
var blogSchema = new mongoose.Schema({
 	title: String,
 	image: String,
 	body: String,
 	created: {type: Date, default: Date.now}
 });
var Blog= mongoose.model("Blog",blogSchema);


// Blog.create({
// 	title: "Testing Room",
// 	image: "data:image/jpeg;base64,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",
// 	body: "Hello this is a hotel"
// });

//STEP 3(RESTFUL ROUTES)

//First Route (Homepage/index)
app.get("/",function(req,res){
	res.redirect("/hotels");
});

//Second Route (index route)
app.get("/hotels",function(req,res){
	Blog.find({},function(err,hotels){
		if(err)
			{
				console.log("Error");
			}
		else
		{
			res.render("index",{hotels:hotels});
		}
	});
});

//Third Route (Add new Hotel Route)
app.get("/hotels/new",function(req,res){
	res.render("new");
});

//Fourth Route (post hotel Route)
app.post("/hotels",function(req,res){

	Blog.create(req.body.hotel,function(err,newHotel){
		if(err)
			res.render("new");
		else
			res.redirect("/hotels");
	});
});

//Fifth Route (Show Route)
app.get("/hotels/:id",function(req,res){
	Blog.findById(req.params.id,function(err,foundBlog){
	if(err)
		res.redirect("/hotels");
	else
		res.render("show",{hotel:foundBlog});
	});
});

//Sixth Route (Edit Route)
app.get("/hotels/:id/edit",function(req,res){
	Blog.findById(req.params.id,function(err,foundBlog){
	if(err)
		res.redirect("/hotels");
	else
		res.render("edit",{hotel:foundBlog});
	});
});

//Seventh Route (Put request for updated form)
app.put("/hotels/:id",function(req,res){
	Blog.findByIdAndUpdate(req.params.id,req.body.hotel,function(err,updatedBlog){
		if(err)
			res.redirect("/hotels");
		else
			res.redirect("/hotels/"+req.params.id);
	});
});

//Delete Route
app.delete("/hotels/:id",function(req,res){
	//destroy hotel/item
	Blog.findByIdAndRemove(req.params.id,function(err){
		if(err)
			res.redirect("/hotels");
		else
			res.redirect("/hotels");
	});

	//redirect somewhere
});

app.listen(port, () => console.log(`Movie app listening on port ${port}!`));